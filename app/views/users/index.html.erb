<%= provide(:heading, 'Registered Pawers') %>

<table class="table table-hover">
  <thead>
    <tr>
      <th>Email</th>
      <th>First name</th>
      <th>Mobile no.</th>
      <th>Created on</th>
      <th>Actions</th>
      <th>Is admin?</th>
    </tr>
  </thead>
  <tbody>
    <% @users.each do |user| %>
    <tr>
      <td><%= user[:email] %></td>
      <td><%= user[:first_name] %></td>
      <td><%= user[:mobile_number] %></td>
      <td><%= user[:created_at] %></td>
      <td>
        <!-- View & Edit  -->
        <a href="users/<%= user[:id] %>"> View </a> |
        <a href="users/<%= user[:id] %>/edit"> Edit </a> <br>

        <!-- Delete -->
        <% if current_user.admin? && !current_user?(user) %>
          <%= link_to "Remove", user, class: "btn btn-primary", method: :delete, data: { confirm: "Delete account?" } %>
        <% end %>
      </td>
      <td><%= user[:admin] %></td>
    </tr>
    <% end %>
  </tbody>
</table>
